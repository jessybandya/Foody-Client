(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{17:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={primary:"#cc5500",primary2:"#382918",secondary:"#d6b897",background:"#e9d9c7"}},19:function(e,t,n){"use strict";var a=n(2),r=n.n(a).a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){},clearCart:function(){}});t.a=r},20:function(e,t,n){e.exports={button:"HeaderCartButton_button__1jpou",icon:"HeaderCartButton_icon__Vr5ko",badge:"HeaderCartButton_badge__1hJIG",bump:"HeaderCartButton_bump__3eWGi"}},24:function(e,t,n){e.exports={meals:"AvailableMeals_meals__1BEH3","meals-appear":"AvailableMeals_meals-appear__1mGCX",MealsLoading:"AvailableMeals_MealsLoading__3p5-P",MealsError:"AvailableMeals_MealsError__3QQXO"}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(16),r=(a.a.initializeApp({apiKey:"AIzaSyCSOpN1c0hX0K9nNY-xTII_SzerMZIdYB8",authDomain:"foody-admin-web-18c0a.firebaseapp.com",projectId:"foody-admin-web-18c0a",storageBucket:"foody-admin-web-18c0a.appspot.com",messagingSenderId:"109381773496",appId:"1:109381773496:web:15867b7feffdf514716c4d",measurementId:"G-Z8VKGJLG3H"}),a.a.database().ref());a.a.auth(),new a.a.auth.GoogleAuthProvider,new a.a.auth.FacebookAuthProvider,new a.a.auth.TwitterAuthProvider,new a.a.auth.GithubAuthProvider,a.a.storage()},39:function(e,t,n){e.exports={summary:"MealsSummary_summary__2aG63"}},40:function(e,t,n){e.exports={card:"Card_card__FckLx"}},41:function(e,t,n){e.exports={form:"MealItemForm_form__3KjCZ"}},42:function(e,t,n){e.exports={input:"Input_input__3j5-3"}},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){e.exports={header:"Header_header__10aWm","main-image":"Header_main-image__3L129"}},54:function(e,t,n){e.exports={meal:"MealItem_meal__2fXFY",description:"MealItem_description__183o1",price:"MealItem_price__2Ene3"}},63:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,s,d,m,u=n(34),l=n.n(u),b=(n(49),n(11)),j=n(2),p=n.n(j),h=n(65),f=(n(50),n(51),n(3)),x=function(){return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(f.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},O=n(20),g=n.n(O),v=n(19),_=function(e){var t=Object(j.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],i=Object(j.useContext)(v.a),c=i.items,o=c.reduce((function(e,t){return e+t.amount}),0),s="".concat(g.a.button," ").concat(a&&g.a.bump);return Object(j.useEffect)((function(){if(0!==i.items.length){r(!0);var e=setTimeout((function(){r(!1)}),300);return function(){clearTimeout(e)}}}),[c]),Object(f.jsxs)("button",{className:s,onClick:e.onClick,children:[Object(f.jsx)("span",{className:g.a.icon,children:Object(f.jsx)(x,{})}),Object(f.jsx)("span",{className:g.a.cartText,children:" Your Cart"}),Object(f.jsx)("span",{className:g.a.badge,children:o})]})},w=(n.p,{hidden:{rotate:-180},visible:{rotate:0,transition:{duration:1}}}),y={hidden:{opacity:0,pathLength:0},visible:{opacity:1,pathLength:1,transition:{duration:2,ease:"easeInOut"}}},C=function(e){return Object(f.jsxs)("header",{children:[Object(f.jsx)(h.a.div,{className:"logo",drag:!0,dragConstraints:{left:0,top:0,right:0,bottom:0},dragElastic:.7,children:Object(f.jsx)("a",{href:"/home",children:Object(f.jsxs)(h.a.svg,{className:"pizza-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",variants:w,initial:"hidden",animate:"visible",children:[Object(f.jsx)(h.a.path,{fill:"none",d:"M40 40 L80 40 C80 40 80 80 40 80 C40 80 0 80 0 40 C0 40 0 0 40 0Z",variants:y}),Object(f.jsx)(h.a.path,{fill:"none",d:"M50 30 L50 -10 C50 -10 90 -10 90 30 Z",variants:y})]})})}),Object(f.jsx)(h.a.div,{className:"title",initial:{y:-250},animate:{y:-10},transition:{delay:.2,type:"spring",stiffness:120},children:Object(f.jsx)("a",{href:"/home",children:Object(f.jsx)("h1",{style:{color:"#fff"},children:Object(f.jsx)("i",{children:"Foody"})})})}),Object(f.jsx)(h.a.div,{initial:{y:-250},animate:{y:-10},transition:{delay:.2,type:"spring",stiffness:120},children:Object(f.jsx)("div",{style:{marginRight:-100},children:Object(f.jsx)(_,{onClick:e.onShowCart})})})]})},A=(n(39),n(29)),I=n.n(A),M=n(36),k=n(13),S=(n(40),n(14)),E=n(15),N=n(17),H=(n(54),n(41)),L=n.n(H),z=n(42),B=n.n(z),G=p.a.forwardRef((function(e,t){return Object(f.jsxs)("div",{className:B.a.input,children:[Object(f.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(f.jsx)("input",Object(k.a)(Object(k.a)({},e.input),{},{ref:t}))]})})),P=function(e){var t=Object(j.useState)(!0),n=Object(b.a)(t,2),a=n[0],r=n[1],i=Object(j.useRef)();return Object(f.jsxs)("form",{style:{display:"flex",justifyContent:"space-between",alignContent:"center",alignItems:"center"},onSubmit:function(t){t.preventDefault();var n=i.current.value,a=+n;0===n.trim().length||a<1||a>5?r(!1):e.onAddToCart(a)},className:L.a.form,children:[Object(f.jsx)(G,{ref:i,label:"Amount",input:{id:"amount_"+e.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(f.jsx)("button",{children:"+ Add"}),!a&&Object(f.jsx)("p",{children:"Please enter a valid amount (1-5)."})]})},F=Object(E.b)(a||(a=Object(S.a)(["\n  0% { top: -3.125rem; }\n  100% { top: 3rem;}\n"]))),R=E.a.div(r||(r=Object(S.a)(["\n  position: relative;\n  top: 0;\n  animation: ",";\n  animation-duration: 0.8s;\n  animation-fill-mode: forwards;\n  padding: 0 0 1rem 0;\n  height: 18rem;\n  border: none;\n  border-radius: 0.5rem;\n\n  align-items: center;\n  align-content: center;\n  background: ",";\n  margin: -25% 0 20%;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.12), 0 2px 2px rgba(0, 0, 0, 0.12),\n    0 4px 4px rgba(0, 0, 0, 0.12), 0 8px 8px rgba(0, 0, 0, 0.12),\n    0 12px 12px rgba(0, 0, 0, 0.12);\n  transition: 0.3s ease-in-out;\n  &:hover {\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.25), 0 2px 2px rgba(0, 0, 0, 0.25),\n      0 4px 4px rgba(0, 0, 0, 0.25), 0 8px 8px rgba(0, 0, 0, 0.25),\n      0 12px 12px rgba(0, 0, 0, 0.25);\n    transform: translateY(-0.5rem);\n  }\n  @media (max-width: 600px) {\n    height: 20rem;\n\twidth: 100%;\n\n    margin: 10px;\n  }\n\n  @media (min-width: 600px) {\n    height: 18rem;\n    margin: -18% 0 20%;\n\twidth: 40%;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin-left:50px;\n  }\n"])),F,N.a.secondary),T=E.a.div(i||(i=Object(S.a)(["\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  width: 100%;\n  height: 5.8rem;\n  margin-bottom: 0.5rem;\n  @media (max-width: 600px) {\n    height: 6.5rem;\n  }\n"]))),D=E.a.img(c||(c=Object(S.a)(["\n  border-radius: 0.5rem 0.5rem 0 0;\n  width: 100%;\n  height: 10rem;\n"]))),K=E.a.div(o||(o=Object(S.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: left;\n  align-content: left;\n  height: 1.5rem;\n  @media (max-width: 600px) {\n    height: 2.5rem;\n  }\n"]))),V=(E.a.button(s||(s=Object(S.a)(["\n  width: 100%;\n  height: 1.6rem;\n  border: none;\n  margin: 0.3rem 0;\n  border-radius: 0.3rem;\n  background: ",";\n  border: 0.1rem solid ",";\n  border-radius: 0.4rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    border: 0.1rem solid ",";\n    background: ",";\n    color: ",";\n    transition: 0.3s ease-in-out;\n  }\n"])),N.a.primary,N.a.primary,N.a.secondary,N.a.primary,N.a.secondary,N.a.primary),E.a.div(d||(d=Object(S.a)(["\n  color: #5c5e5e;\n  font-style: italic;\n  font-size: 0.9rem;\n  margin-bottom: 0.5rem;\n  height: 2rem;\n  @media (max-width: 600px) {\n    height: 2rem;\n  }\n"])))),Y=E.a.div(m||(m=Object(S.a)(["\n  font-size: 1rem;\n  font-weight: bold;\n  border-radius: 0.3rem;\n"]))),Z=function(e){var t=e.name,n=e.description,a=e.price,r=e.postId,i=e.image,c=Object(j.useContext)(v.a);return Object(f.jsxs)(R,{children:[Object(f.jsx)(D,{src:i}),Object(f.jsxs)(T,{children:[Object(f.jsxs)(K,{children:[Object(f.jsx)(Y,{children:t}),Object(f.jsxs)(Y,{children:["Ksh",a]})]}),Object(f.jsx)(V,{children:n}),Object(f.jsx)(P,{id:r,onAddToCart:function(e){c.addItem({id:r,name:t,amount:e,price:a,image:i})}})]})]})},J=n(24),X=n.n(J),W=n(38),Q=function(){var e=Object(j.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(j.useState)(!0),i=Object(b.a)(r,2),c=i[0],o=i[1],s=Object(j.useState)(),d=Object(b.a)(s,2),m=d[0],u=d[1],l=Object(j.useState)({}),p=Object(b.a)(l,2);p[0],p[1];return Object(j.useEffect)((function(){return W.a.child("menu").on("value",(function(e){null!==e.val()?a(Object(k.a)({},e.val())):a({})})),function(){a({})}}),[]),Object(j.useEffect)((function(){(function(){var e=Object(M.a)(I.a.mark((function e(){var t,n,a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-http-4e5dc-default-rtdb.firebaseio.com/meals.json");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Something went wrong!");case 5:return e.next=7,t.json();case 7:for(r in n=e.sent,a=[],n)a.push({id:r,name:n[r].name,description:n[r].description,price:n[r].price});o(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){o(!1),u(e.message)}))}),[]),c?Object(f.jsx)("section",{className:X.a.MealsLoading,children:Object(f.jsx)("p",{children:"Loading..."})}):m?Object(f.jsx)("section",{className:X.a.MealsError,children:Object(f.jsx)("p",{children:m})}):Object(f.jsx)("section",{className:X.a.meals,children:Object(f.jsx)("ul",{style:{display:"flex",flexWrap:"wrap"},children:Object.keys(n).map((function(e,t){return Object(f.jsx)(Z,{postId:e,name:n[e].name,image:n[e].image,description:n[e].restaurant,price:n[e].price},e)}))})})},q=function(){return Object(f.jsx)(j.Fragment,{children:Object(f.jsx)(Q,{})})},U=n(25),$={items:[],totalAmount:0},ee=function(e,t){if("ADD"===t.type){var n,a=e.totalAmount+t.item.price*t.item.amount,r=e.items.findIndex((function(e){return e.id===t.item.id})),i=e.items[r];if(i){var c=Object(k.a)(Object(k.a)({},i),{},{amount:i.amount+t.item.amount});(n=Object(U.a)(e.items))[r]=c}else n=e.items.concat(t.item);return{items:n,totalAmount:a}}if("REMOVE"===t.type){var o,s=e.items.findIndex((function(e){return e.id===t.id})),d=e.items[s],m=e.totalAmount-d.price;if(1===d.amount)o=e.items.filter((function(e){return e.id!==t.id}));else{var u=Object(k.a)(Object(k.a)({},d),{},{amount:d.amount-1});(o=Object(U.a)(e.items))[s]=u}return{items:o,totalAmount:m}}return t.type,$},te=function(e){var t=Object(j.useReducer)(ee,$),n=Object(b.a)(t,2),a=n[0],r=n[1],i={items:a.items,totalAmount:a.totalAmount,addItem:function(e){r({type:"ADD",item:e})},removeItem:function(e){r({type:"REMOVE",id:e})},clearCart:function(){r({type:"CLEAR"})}};return Object(f.jsx)(v.a.Provider,{value:i,children:e.children})},ne=p.a.lazy((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,175))}));var ae=function(){var e=Object(j.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(f.jsx)(j.Suspense,{fallback:Object(f.jsx)("p",{children:"Loading..."}),children:Object(f.jsxs)(te,{children:[n&&Object(f.jsx)(ne,{onCloseCart:function(){a(!1)}}),Object(f.jsx)(C,{onShowCart:function(){a(!0)}}),Object(f.jsx)("main",{children:Object(f.jsx)(q,{})})]})})};l.a.render(Object(f.jsx)(ae,{}),document.getElementById("root"))}},[[63,1,3]]]);
//# sourceMappingURL=main.1880254e.chunk.js.map